(function(t){function e(e){for(var n,s,a=e[0],c=e[1],u=e[2],d=0,f=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],n=!0,a=1;a<o.length;a++){var c=o[a];0!==r[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=o[0]))}return t}var n={},r={app:0},i=[];function s(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=n,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(o,n,function(e){return t[e]}.bind(null,n));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/EverNote/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";var n=o("64a9"),r=o.n(n);r.a},"0798":function(t,e,o){},"0f9a":function(t,e){},"1dbb":function(t,e,o){"use strict";var n=o("0798"),r=o.n(n);r.a},3838:function(t,e,o){},"4b43":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("9e1f"),o("450d");var n=o("6ed5"),r=o.n(n),i=(o("46a1"),o("e5f2")),s=o.n(i),a=(o("0fb7"),o("f529")),c=o.n(a),u=(o("bd49"),o("18ff")),l=o.n(u),d=(o("960d"),o("defb")),f=o.n(d),p=(o("cb70"),o("b370")),v=o.n(p),h=(o("1951"),o("eedf")),m=o.n(h),b=(o("cadf"),o("551c"),o("f751"),o("097d"),o("2b0e")),g=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("sidebar"),o("router-view")],1)},k=[],w=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"sidebar"}},[o("avatar"),o("div",{staticClass:"icons"},[o("router-link",{attrs:{to:"/note",title:"笔记"}},[o("i",{staticClass:"iconfont icon-note"})]),o("router-link",{attrs:{to:"/notebooks",title:"笔记本"}},[o("i",{staticClass:"iconfont icon-notebook"})])],1),o("div",{staticClass:"logout"},[o("i",{staticClass:"iconfont icon-logout",on:{click:t.logout}})])],1)},N=[],y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{attrs:{title:t.username}},[t._v(" "+t._s(t.slug)+" ")])},O=[],_=o("bc3a"),I=o.n(_);function C(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(n,r){var i={url:t,method:e,validateStatus:function(t){return t>=200&&t<300||400===t}};"get"===e.toLowerCase()?i.params=o:i.data=o,I()(i).then((function(t){200===t.status?n(t.data):(c()({type:"error",msg:t.data.msg}),r(t.data))})).catch((function(t){c.a.error(" 网络异常"),r({msg:"网络异常"})}))}))}I.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",I.a.defaults.baseURL="//note-server.hunger-valley.com",I.a.defaults.withCredentials=!0;var E={REGISTER:"/auth/register",LOGIN:"/auth/login",LOGOUT:"/auth/logout",GET_INFO:"/auth"},P={register:function(t){var e=t.username,o=t.password;return C(E.REGISTER,"POST",{username:e,password:o})},login:function(t){var e=t.username,o=t.password;return C(E.LOGIN,"POST",{username:e,password:o})},logout:function(){return C(E.LOGOUT)},getInfo:function(){return C(E.GET_INFO)}},j=new b["default"],$={data:function(){return{username:"未登录"}},created:function(){var t=this;j.$on("userInfo",(function(e){t.username=e.username})),P.getInfo().then((function(e){e.isLogin&&(t.username=e.data.username),console.log(e)}))},computed:{slug:function(){return this.username[0]}}},x=$,T=(o("7770"),o("2877")),A=Object(T["a"])(x,y,O,!1,null,"934be1ac",null),S=A.exports,D={components:{avatar:S},methods:{logout:function(){var t=this;console.log("logout"),P.logout().then((function(e){console.log(e),t.$router.push({path:"login"})}))}}},L=D,B=(o("1dbb"),Object(T["a"])(L,w,N,!1,null,"b9f9cf64",null)),R=B.exports,F={name:"App",components:{Sidebar:R}},G=F,U=(o("034f"),Object(T["a"])(G,g,k,!1,null,null,null)),M=U.exports,V=o("8c4f"),q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"})},H=[],J={name:"home",components:{Notification:Notification},methods:{open1:function(){var t=this.$createElement;console.log("hihihihihihihih"),this.$notify({title:"标题名称",message:t("i",{style:"color: teal"},"这是提示文案这是提示文案这是提示文案这是提示文案这是提示文案这是提示文案这是提示文案这是提示文案")})}}},z=J,Z=Object(T["a"])(z,q,H,!1,null,null,null),K=Z.exports,Q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login"},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container"},[o("div",{staticClass:"main"}),o("div",{staticClass:"form"},[o("h3",{on:{click:t.showRegister}},[t._v("创建账户")]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowRegister,expression:"isShowRegister"}],staticClass:"register"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.register.username,expression:"register.username"}],attrs:{type:"text",placeholder:"用户名"},domProps:{value:t.register.username},on:{input:function(e){e.target.composing||t.$set(t.register,"username",e.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.register.password,expression:"register.password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:t.register.password},on:{input:function(e){e.target.composing||t.$set(t.register,"password",e.target.value)}}}),o("p",{class:{error:t.register.isError}},[t._v(" "+t._s(t.register.notice)+" ")]),o("div",{staticClass:"button",on:{click:t.onRegister}},[t._v("创建账号")])]),o("h3",{on:{click:t.showLogin}},[t._v("登录")]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowLogin,expression:"isShowLogin"}],staticClass:"login"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.login.username,expression:"login.username"}],attrs:{type:"text ",placeholder:"输入用户名"},domProps:{value:t.login.username},on:{input:function(e){e.target.composing||t.$set(t.login,"username",e.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:t.login.password},on:{input:function(e){e.target.composing||t.$set(t.login,"password",e.target.value)}}}),o("p",{class:{error:t.login.isError}},[t._v(" "+t._s(t.login.notice)+" ")]),o("div",{staticClass:"button",on:{click:t.onLogin}},[t._v("登录")])])])])])])])},W=[];P.getInfo().then((function(t){console.log(t)}));var X={name:"Login",data:function(){return{isShowLogin:!0,isShowRegister:!1,login:{username:"",password:"",notice:"请输入 用户名和密码",isError:!1},register:{username:"",password:"",notice:"请记住您的用户名和密码",isError:!1}}},methods:{showRegister:function(){this.isShowRegister=!0,this.isShowLogin=!1},showLogin:function(){this.isShowLogin=!0,this.isShowRegister=!1},onRegister:function(){var t=this,e=this.validUsername(this.register.username);if(!e.isValid)return this.register.isError=!0,void(this.register.notice=e.notice);var o=this.validPassword(this.register.password);if(!o.isValid)return this.register.isError=!0,void(this.register.notice=o.notice);this.register.isError=!1,P.register({username:this.register.username,password:this.register.password}).then((function(e){console.log(e),t.register.notice=e.msg,t.$router.push({path:"/notebooks"}),j.$emit("userInfo",{username:t.login.username})})).catch((function(e){t.register.isError=!0,t.register.notice=e.msg}))},onLogin:function(){var t=this,e=this.validUsername(this.login.username);if(!e.isValid)return this.login.isError=!0,void(this.login.notice=e.notice);var o=this.validPassword(this.login.password);if(!o.isValid)return this.login.isError=!0,void(this.login.notice=o.notice);this.login.isError=!1,P.login({username:this.login.username,password:this.login.password}).then((function(e){console.log(e),t.login.notice=e.msg,t.$router.push({path:"/notebooks"}),j.$emit("userInfo",{username:t.login.username})})).catch((function(e){t.login.isError=!0,t.login.notice=e.msg}))},validUsername:function(t){return{isValid:/^[0-9a-zA-Z_\u4e00-\u9fa5]{3,15}$/.test(t),notice:"用户名必须是3~15个字符, 限于字母、数字、下划线、中文"}},validPassword:function(t){return{isValid:/^.{6,16}$/.test(t),notice:"密码长度为6~16个字符"}}}},Y=X,tt=(o("748f"),Object(T["a"])(Y,Q,W,!1,null,"f014a6c4",null)),et=tt.exports,ot=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"detail",attrs:{id:"notebook-list"}},[o("header",[o("a",{staticClass:"btn",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.onCreate(e)}}},[o("i",{staticClass:"iconfont icon-plus"},[t._v("新建笔记本")])])]),o("main",[o("div",{staticClass:"layout"},[o("h3",[t._v("笔记本列表("+t._s(t.notebooks.length)+")")]),o("div",{staticClass:"book-list"},t._l(t.notebooks,(function(e){return o("router-link",{key:e.id,staticClass:"notebook",attrs:{to:"/note?notebookId="+e.id}},[o("div",[o("span",{staticClass:"iconfont icon-notebook"}),t._v(t._s(e.title)+"\n                    "),o("span",[t._v(t._s(e.noteCounts))]),o("span",{staticClass:"action",on:{click:function(o){return o.preventDefault(),t.onEdit(e)}}},[t._v("\n                        编辑 ")]),o("span",{staticClass:"action",on:{click:function(o){return o.preventDefault(),t.onDelete(e)}}},[t._v(" 删除")]),o("span",{staticClass:"date"},[t._v(t._s(e.createdAtFriendly))])])])})),1)])])])},nt=[],rt=(o("8e6e"),o("ac6a"),o("456d"),o("bd86")),it=(o("a481"),o("7618"));function st(t){var e="object"===Object(it["a"])(t)?t:new Date(t),o=e.getTime(),n="",r=Date.now();switch(!0){case r-o<6e4:n="刚刚";break;case r-o<36e5:n=Math.floor((r-o)/6e4)+"分钟前";break;case r-o<864e5:n=Math.floor((r-o)/36e5)+"小时前";break;default:n=Math.floor((r-o)/864e5)+"天前"}return n}var at={GET:"/notebooks",ADD:"/notebooks",UPDATE:"/notebooks/:id",DELETE:"/notebooks/:id"},ct={getAll:function(){return new Promise((function(t,e){C(at.GET).then((function(e){e.data.reverse().forEach((function(t){t.createdAtFriendly=st(t.createdAt),t.updatedAtFriendly=st(t.updatedAt)})),t(e)})).catch((function(t){e(t)}))}))},updateNotebook:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{title:""},o=e.title,n=void 0===o?"":o;return C(at.UPDATE.replace(":id",t),"PATCH",{title:n})},deleteNotebook:function(t){return C(at.DELETE.replace(":id",t),"DELETE")},addNotebook:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:""},e=t.title,o=void 0===e?"":e;return new Promise((function(t,e){C(at.ADD,"POST",{title:o}).then((function(e){e.data.createdAtFriendly=st(e.data.createdAt),e.data.updatedAtFriendly=st(e.data.updatedAt),t(e)})).catch((function(t){}))}))}},ut=o("2f62");function lt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function dt(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?lt(o,!0).forEach((function(e){Object(rt["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):lt(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var ft={name:"Notebooks",data:function(){return{}},created:function(){var t=this;P.getInfo().then((function(e){e.isLogin||t.$router.push({path:"/login"})})),this.$store.dispatch("getNotebooks")},computed:dt({},Object(ut["c"])(["notebooks"])),methods:dt({},Object(ut["b"])(["getNotebooks","addNotebook","updateNotebook","deleteNotebook"]),{onCreate:function(){var t=this;this.$prompt("请输入新笔记本标题","创建笔记本",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^.{1,30}$/,inputErrorMessage:"标题不能为空，且不超过30个字符"}).then((function(e){var o=e.value;t.addNotebook({title:o})}))},onEdit:function(t){var e=this;this.$prompt("请输入新笔记本标题","修改笔记本",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^.{1,30}$/,inputValue:t.title,inputErrorMessage:"标题不能为空，且不超过30个字符"}).then((function(o){var n=o.value;e.updateNotebook({notebookId:t.id,title:n})}))},onDelete:function(t){var e=this;console.log(),this.$confirm("确认要删除笔记本吗?","删除笔记本",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.deleteNotebook({notebookId:t.id})}))}})},pt=ft,vt=(o("9ae4"),Object(T["a"])(pt,ot,nt,!1,null,"36221e70",null)),ht=vt.exports,mt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"notebook-detail"},[o("note-sidebar",{on:{updateNotes:function(e){return t.notes=e}}}),o("div",{staticClass:"note-detail"},[o("div",{directives:[{name:"show",rawName:"v-show",value:!t.curNote.id,expression:"!curNote.id"}],staticClass:"note-empty"},[t._v(" 请选择笔记 ")]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.curNote.id,expression:"curNote.id"}],staticClass:"note-detail-ct"},[o("div",{staticClass:"note-bar"},[o("span",[t._v("创建日期:"+t._s(t.curNote.createdAtFriendly))]),o("span",[t._v("更新日期:"+t._s(t.curNote.updatedAtFriendly))]),o("span",[t._v(t._s(t.statusText))]),o("span",{staticClass:"iconfont icon-delete",on:{click:t.ondeleteNote}}),o("span",{staticClass:"iconfont icon-fullscreen",on:{click:function(e){t.isShowPreview=!t.isShowPreview}}})]),o("div",{staticClass:"note-title"},[o("input",{directives:[{name:"model",rawName:"v-model:value",value:t.curNote.title,expression:"curNote.title",arg:"value"}],attrs:{type:"text",placeholder:"请输入标题"},domProps:{value:t.curNote.title},on:{input:[function(e){e.target.composing||t.$set(t.curNote,"title",e.target.value)},t.onupdateNote],keydown:function(e){t.statusText="正在输入"}}})]),o("div",{staticClass:"editor"},[o("textarea",{directives:[{name:"show",rawName:"v-show",value:!t.isShowPreview,expression:"!isShowPreview"},{name:"model",rawName:"v-model:value",value:t.curNote.content,expression:"curNote.content",arg:"value"}],attrs:{placeholder:"输入内容，支持md语法"},domProps:{value:t.curNote.content},on:{input:[function(e){e.target.composing||t.$set(t.curNote,"content",e.target.value)},t.onupdateNote]}}),o("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowPreview,expression:"isShowPreview"}],staticClass:"preview markdown-body",domProps:{innerHTML:t._s(t.previewContent)}})])])])],1)},bt=[],gt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"note-sidebar"},[o("span",{staticClass:"btn add-note",on:{click:t.onaddNote}},[t._v("添加笔记")]),o("el-dropdown",{staticClass:"notebook-title",on:{command:t.handleCommand}},[o("span",{staticClass:"el-dropdown-link"},[t._v("\n        "+t._s(t.curBook.title)),o("i",{staticClass:"iconfont icon-down"})]),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t._l(t.notebooks,(function(e){return o("el-dropdown-item",{key:e.id,attrs:{command:e.id}},[t._v("\n            "+t._s(e.title)+"     ")])})),o("el-dropdown-item",{attrs:{command:"trash"}},[t._v("回收站")])],2)],1),t._m(0),o("ul",{staticClass:"notes"},t._l(t.notes,(function(e){return o("li",{key:e.id},[o("router-link",{attrs:{to:"/note?noteId="+e.id+"&notebookId="+t.curBook.id}},[o("span",{staticClass:"date"},[t._v(t._s(e.updatedAtFriendly))]),o("span",{staticClass:"title"},[t._v(t._s(e.title))])])],1)})),0)],1)},kt=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"menu"},[o("div",[t._v("更新时间")]),o("div",[t._v("标题")])])}],wt=(o("f654"),{GET:"/notes/from/:notebookId",ADD:"/notes/to/:notebookId",UPDATE:"/notes/:noteId",DELETE:"/notes/:noteId"}),Nt={getAll:function(t){var e=t.notebookId;return new Promise((function(t,o){C(wt.GET.replace(":notebookId",e)).then((function(e){e.data.forEach((function(t){t.createdAtFriendly=st(t.createdAt),t.updatedAtFriendly=st(t.updatedAt)})),t(e)})).catch((function(t){o(t)}))}))},updateNote:function(t,e){var o=t.noteId,n=e.title,r=e.content;return C(wt.UPDATE.replace(":noteId",o),"PATCH",{title:n,content:r})},deleteNote:function(t){var e=t.noteId;return C(wt.DELETE.replace(":noteId",e),"DELETE")},addNote:function(t){var e=t.notebookId,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{title:"",content:""},n=o.title,r=void 0===n?"":n,i=o.content,s=void 0===i?"":i;return new Promise((function(t,o){C(wt.ADD.replace(":notebookId",e),"POST",{title:r,content:s}).then((function(e){e.data.createdAtFriendly=st(e.data.createdAt),e.data.updatedAtFriendly=st(e.data.updatedAt),t(e)})).catch((function(t){o(t)}))}))}};function yt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Ot(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?yt(o,!0).forEach((function(e){Object(rt["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):yt(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var _t={created:function(){var t=this;this.getNotebooks().then((function(){return t.$store.commit("setCurBook",{curBookId:t.$route.query.notebookId}),t.getNotes({notebookId:t.curBook.id})})).then((function(){t.$store.commit("setCurNote",{curNoteId:t.$route.query.noteId})}))},data:function(){return{}},computed:Ot({},Object(ut["c"])(["notebooks","notes","curBook"])),methods:Ot({},Object(ut["b"])(["getNotebooks","getNotes","addNote"]),{handleCommand:function(t){"trash"===t&&this.$router.push({path:"/trash"}),this.$store.commit("setCurBook",{curBookId:this.$route.query.notebookId}),this.getNotes({notebookId:t})},onaddNote:function(){this.addNote({notebookId:this.curBook.id})}})},It=_t,Ct=(o("6a7a"),Object(T["a"])(It,gt,kt,!1,null,"4064bc32",null)),Et=Ct.exports,Pt=o("81b0"),jt=o.n(Pt),$t=o("d4cd"),xt=o.n($t);function Tt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function At(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Tt(o,!0).forEach((function(e){Object(rt["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Tt(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var St=new xt.a,Dt={components:{NoteSidebar:Et},data:function(){return{statusText:"笔记未改动",isShowPreview:!1}},created:function(){var t=this;P.getInfo().then((function(e){e.isLogin||t.$router.push({path:"/login"})}))},beforeRouteUpdate:function(t,e,o){this.$store.commit("setCurNote",{curNoteId:t.query.noteId}),console.log("beforeRouteUpdate enter"),o()},computed:At({},Object(ut["c"])(["notes","curNote"]),{previewContent:function(){return St.render(this.curNote.content||"")}}),methods:At({},Object(ut["b"])(["updateNote","deleteNote"]),{onupdateNote:jt.a.debounce((function(){var t=this;this.updateNote({noteId:this.curNote.id,title:this.curNote.title,content:this.curNote.content}).then((function(e){t.statusText="已保存",console.log(e)})).catch((function(e){t.statusText="保存出错"}))}),300),ondeleteNote:function(){var t=this;this.deleteNote({noteId:this.curNote.id}).then((function(e){t.$router.replace({path:"/note"})}))}})},Lt=Dt,Bt=(o("d77d"),Object(T["a"])(Lt,mt,bt,!1,null,"c6de808a",null)),Rt=Bt.exports,Ft=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"trash-detail"},[o("div",{staticClass:"note-sidebar"},[o("h3",{staticClass:"notebook-title"},[t._v("回收站")]),t._m(0),o("ul",{staticClass:"notes"},t._l(t.notes,(function(e){return o("li",{key:e.id},[o("router-link",{attrs:{to:"/trash?noteId="+e.id}},[o("span",{staticClass:"date"},[t._v(t._s(e.updatedAtFriendly))]),o("span",{staticClass:"title"},[t._v(t._s(e.title))])])],1)})),0)])])},Gt=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"menu"},[o("div",[t._v("更新时间")]),o("div",[t._v("标题")])])}],Ut={data:function(){return{msg:"回收笔记本详细页"}},created:function(){var t=this;P.getInfo().then((function(e){e.isLogin||t.$router.push({path:"/login"})}))}},Mt=Ut,Vt=(o("c798"),Object(T["a"])(Mt,Ft,Gt,!1,null,"ceb8db78",null)),qt=Vt.exports;b["default"].use(V["a"]);var Ht=new V["a"]({routes:[{path:"/",name:"home",component:K},{path:"/login",name:"login",component:et},{path:"/notebooks",component:ht},{path:"/note/",component:Rt},{path:"/trash/",component:qt}]}),Jt=(o("7514"),o("3e8f"),{notebooks:null,curBookId:null}),zt={notebooks:function(t){return t.notebooks||[]},curBook:function(t){return Array.isArray(t.notebooks)?t.curBookId?t.notebooks.find((function(e){return e.id==t.curBookId})):t.notebooks[0]:{}}},Zt={setNotebooks:function(t,e){t.notebooks=e.notebooks},addNotebook:function(t,e){t.notebooks.unshift(e.notebook)},updateNotebook:function(t,e){var o=t.notebooks.find((function(t){return t.id==e.notebookId}))||{};o.title=e.title},deleteNotebook:function(t,e){t.notebooks=t.notebooks.filter((function(t){return t.id!=e.notebookId}))},setCurBook:function(t,e){t.curBookId=e.curBookId}},Kt={getNotebooks:function(t){var e=t.commit;return ct.getAll().then((function(t){e("setNotebooks",{notebooks:t.data})}))},addNotebook:function(t,e){var o=t.commit;return ct.addNotebook({title:e.title}).then((function(t){o("addNotebook",{notebook:t.data}),c.a.success(t.msg)}))},updateNotebook:function(t,e){var o=t.commit;return ct.updateNotebook(e.notebookId,{title:e.title}).then((function(t){o("updateNotebook",{notebookId:e.notebookId,title:e.title}),c.a.success(t.msg)}))},deleteNotebook:function(t,e){var o=t.commit;return ct.deleteNotebook(e.notebookId).then((function(t){o("deleteNotebook",{notebookId:e.notebookId}),c.a.success(t.msg)}))}},Qt={state:Jt,getters:zt,mutations:Zt,actions:Kt},Wt={notes:null,curNoteId:null},Xt={notes:function(t){return t.notes||[]},curNote:function(t){return Array.isArray(t.notes)?t.curNoteId?t.notes.find((function(e){return e.id==t.curNoteId}))||{}:t.notes[0]:{}}},Yt={setNote:function(t,e){t.notes=e.notes,console.log(t.notes)},addNote:function(t,e){t.notes.unshift(e.note)},updateNote:function(t,e){var o=t.notes.find((function(t){return t.id==e.noteId}))||{};o.title=e.title,o.content=e.content},deleteNote:function(t,e){t.notes=t.notes.filter((function(t){return t.id!==e.noteId}))},setCurNote:function(t,e){t.curNoteId=e.curNoteId}},te={getNotes:function(t,e){var o=t.commit,n=e.notebookId;return Nt.getAll({notebookId:n}).then((function(t){console.log(t.data),o("setNote",{notes:t.data})}))},addNote:function(t,e){var o=t.commit,n=e.notebookId,r=e.title,i=e.content;return Nt.addNote({notebookId:n},{title:r,content:i}).then((function(t){o("addNote",{note:t.data}),c.a.success(t.msg)}))},updateNote:function(t,e){var o=t.commit,n=e.noteId,r=e.title,i=e.content;return Nt.updateNote({noteId:n},{title:r,content:i}).then((function(t){o("updateNote",{noteId:n,title:r,content:i}),c.a.success(t.msg)}))},deleteNote:function(t,e){var o=t.commit,n=e.noteId;return Nt.deleteNote({noteId:n}).then((function(t){o("deleteNote",{noteId:n}),c.a.success(t.msg)}))}},ee={state:Wt,getters:Xt,mutations:Yt,actions:te},oe=o("e01b"),ne=o.n(oe),re=o("0f9a"),ie=o.n(re);b["default"].use(ut["a"]);var se=new ut["a"].Store({modules:{notebook:Qt,note:ee,trash:ne.a,user:ie.a}});b["default"].config.productionTip=!1,b["default"].use(m.a),b["default"].use(v.a),b["default"].use(f.a),b["default"].use(l.a),b["default"].prototype.$message=c.a,b["default"].prototype.$notify=s.a,b["default"].prototype.$msgbox=r.a,b["default"].prototype.$prompt=r.a.prompt,b["default"].prototype.$confirm=r.a.confirm,new b["default"]({router:Ht,store:se,render:function(t){return t(M)}}).$mount("#app")},"64a9":function(t,e,o){},"6a7a":function(t,e,o){"use strict";var n=o("3838"),r=o.n(n);r.a},"748f":function(t,e,o){"use strict";var n=o("4b43"),r=o.n(n);r.a},7770:function(t,e,o){"use strict";var n=o("df2c"),r=o.n(n);r.a},"9ae4":function(t,e,o){"use strict";var n=o("e482"),r=o.n(n);r.a},b305:function(t,e,o){},c798:function(t,e,o){"use strict";var n=o("c825"),r=o.n(n);r.a},c825:function(t,e,o){},d77d:function(t,e,o){"use strict";var n=o("b305"),r=o.n(n);r.a},df2c:function(t,e,o){},e01b:function(t,e){},e482:function(t,e,o){}});
//# sourceMappingURL=app.434766d0.js.map